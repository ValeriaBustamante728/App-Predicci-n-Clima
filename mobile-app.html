<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Alerta Temprana</title>
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="Alerta Temprana">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="theme-color" content="#3b82f6">
    <link rel="manifest" href="data:application/json,{&quot;name&quot;:&quot;Alerta Temprana&quot;,&quot;short_name&quot;:&quot;Alerta&quot;,&quot;start_url&quot;:&quot;.&quot;,&quot;display&quot;:&quot;standalone&quot;,&quot;background_color&quot;:&quot;#f3f4f6&quot;,&quot;theme_color&quot;:&quot;#3b82f6&quot;}">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            overflow-x: hidden;
            -webkit-overflow-scrolling: touch;
        }
        
        .app-container {
            max-width: 100vw;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            background: #f3f4f6;
        }
        
        .header {
            background: linear-gradient(135deg, #3b82f6, #1d4ed8);
            padding: 20px;
            text-align: center;
            color: white;
            box-shadow: 0 4px 20px rgba(59, 130, 246, 0.3);
        }
        
        .logo {
            font-size: 4rem;
            margin-bottom: 10px;
            animation: float 3s ease-in-out infinite;
        }
        
        .logo-icon {
            position: relative;
            display: inline-block;
        }
        
        .logo-icon::after {
            content: '⚡';
            position: absolute;
            top: 15px;
            left: 15px;
            font-size: 2rem;
            color: #fbbf24;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }
        
        .title {
            font-size: 1.8rem;
            font-weight: 700;
            margin-bottom: 5px;
        }
        
        .subtitle {
            font-size: 0.9rem;
            opacity: 0.9;
        }
        
        .content {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
            -webkit-overflow-scrolling: touch;
        }
        
        .alert-section {
            background: white;
            border-radius: 20px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }
        
        .section-title {
            font-size: 1.2rem;
            font-weight: 600;
            color: #374151;
            margin-bottom: 15px;
        }
        
        .alert-options {
            display: grid;
            gap: 10px;
        }
        
        .alert-option {
            padding: 15px;
            background: #f8fafc;
            border: 2px solid #e2e8f0;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.95rem;
            color: #475569;
        }
        
        .alert-option:hover {
            background: #e0f2fe;
            border-color: #0ea5e9;
            transform: translateX(5px);
        }
        
        .alert-option.selected {
            background: linear-gradient(135deg, #3b82f6, #1d4ed8);
            color: white;
            border-color: #1d4ed8;
            transform: translateX(10px);
            box-shadow: 0 5px 15px rgba(59, 130, 246, 0.4);
        }
        
        .create-button {
            width: 100%;
            padding: 18px;
            background: linear-gradient(135deg, #10b981, #059669);
            color: white;
            border: none;
            border-radius: 15px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 15px;
            box-shadow: 0 8px 25px rgba(16, 185, 129, 0.3);
        }
        
        .create-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 12px 35px rgba(16, 185, 129, 0.4);
        }
        
        .create-button:active {
            transform: translateY(0);
        }
        
        .status-message {
            text-align: center;
            font-weight: 600;
            color: #6b7280;
            margin: 15px 0;
            font-size: 0.95rem;
        }
        
        .alerts-container {
            background: white;
            border-radius: 20px;
            padding: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }
        
        .no-alerts {
            text-align: center;
            padding: 40px 20px;
            color: #9ca3af;
            font-size: 1rem;
        }
        
        .alert-card {
            background: linear-gradient(135deg, #dc2626, #b91c1c);
            color: white;
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 15px;
            box-shadow: 0 8px 25px rgba(220, 38, 38, 0.3);
            animation: slideIn 0.3s ease;
        }
        
        @keyframes slideIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .alert-title {
            font-size: 1.1rem;
            font-weight: 700;
            margin-bottom: 8px;
        }
        
        .alert-description {
            font-size: 0.9rem;
            opacity: 0.9;
            margin-bottom: 10px;
            line-height: 1.4;
        }
        
        .alert-time {
            font-size: 0.8rem;
            opacity: 0.7;
            margin-bottom: 15px;
        }
        
        .resolve-button {
            background: rgba(255, 255, 255, 0.2);
            color: white;
            border: 2px solid rgba(255, 255, 255, 0.3);
            padding: 10px 20px;
            border-radius: 10px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            float: right;
        }
        
        .resolve-button:hover {
            background: rgba(255, 255, 255, 0.3);
            border-color: rgba(255, 255, 255, 0.5);
        }
        
        .success-message {
            background: linear-gradient(135deg, #10b981, #059669);
            color: white;
            padding: 15px;
            border-radius: 10px;
            text-align: center;
            margin: 10px 0;
            animation: pulse 0.5s ease;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        
        /* Scroll personalizado */
        ::-webkit-scrollbar {
            width: 6px;
        }
        
        ::-webkit-scrollbar-track {
            background: #f1f5f9;
        }
        
        ::-webkit-scrollbar-thumb {
            background: #cbd5e1;
            border-radius: 3px;
        }
        
        ::-webkit-scrollbar-thumb:hover {
            background: #94a3b8;
        }
    </style>
</head>
<body>
    <div class="app-container">
        <!-- Header -->
        <div class="header">
            <div class="logo-icon">☁️</div>
            <h1 class="title">Alerta Temprana</h1>
            <p class="subtitle">Visualice alertas en tiempo real en micro-zonas</p>
        </div>

        <!-- Content -->
        <div class="content">
            <!-- Alert Selection -->
            <div class="alert-section">
                <h2 class="section-title">Selecciona el tipo de alerta:</h2>
                <div class="alert-options" id="alert-options">
                    <div class="alert-option" data-value="">
                        <span>-- Elige una alerta --</span>
                    </div>
                    <div class="alert-option" data-value="Frío y Seco">
                        <span>Frío y Seco</span>
                    </div>
                    <div class="alert-option" data-value="Frío y Húmedo">
                        <span>Frío y Húmedo</span>
                    </div>
                    <div class="alert-option" data-value="Templado y Seco">
                        <span>Templado y Seco</span>
                    </div>
                    <div class="alert-option" data-value="Templado y Húmedo">
                        <span>Templado y Húmedo</span>
                    </div>
                    <div class="alert-option" data-value="Cálido y Seco">
                        <span>Cálido y Seco</span>
                    </div>
                    <div class="alert-option" data-value="Cálido y Húmedo">
                        <span>Cálido y Húmedo</span>
                    </div>
                    <div class="alert-option" data-value="Muy Húmedo">
                        <span>Muy Húmedo (Clima de Selva)</span>
                    </div>
                    <div class="alert-option" data-value="Baja Presión">
                        <span>Condiciones de Baja Presión (Posible Lluvia)</span>
                    </div>
                    <div class="alert-option" data-value="Alta Presión">
                        <span>Condiciones de Alta Presión (Cielo Despejado)</span>
                    </div>
                    <div class="alert-option" data-value="Extremadamente Caliente">
                        <span>Extremadamente Caliente</span>
                    </div>
                </div>
                
                <div class="status-message" id="status-message">
                    Selecciona un tipo de alerta y presiona "Crear Alerta"
                </div>
                
                <button class="create-button" id="create-alert-btn">
                    Crear Alerta
                </button>
            </div>

            <!-- Active Alerts -->
            <div class="alerts-container">
                <h2 class="section-title">Alertas Activas</h2>
                <div id="alerts-container">
                    <div id="no-alerts" class="no-alerts">
                        No hay alertas activas
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        let selectedAlertType = '';
        let alerts = [];

        const alertDescriptions = {
            'Frío y Seco': 'Se ha detectado una emergencia de Frío y Seco en la zona. Las temperaturas han descendido significativamente con baja humedad. Tome las precauciones necesarias.',
            'Frío y Húmedo': 'Se ha detectado una emergencia de Frío y Húmedo en la zona. Las condiciones climáticas presentan bajas temperaturas con alta humedad. Tome las precauciones necesarias.',
            'Templado y Seco': 'Se ha detectado una emergencia de Templado y Seco en la zona. Las condiciones climáticas son moderadas con baja humedad. Tome las precauciones necesarias.',
            'Templado y Húmedo': 'Se ha detectado una emergencia de Templado y Húmedo en la zona. Las condiciones climáticas son moderadas con alta humedad. Tome las precauciones necesarias.',
            'Cálido y Seco': 'Se ha detectado una emergencia de Cálido y Seco en la zona. Las temperaturas son elevadas con baja humedad. Tome las precauciones necesarias.',
            'Cálido y Húmedo': 'Se ha detectado una emergencia de Cálido y Húmedo en la zona. Las condiciones climáticas presentan altas temperaturas con alta humedad. Tome las precauciones necesarias.',
            'Muy Húmedo': 'Se ha detectado una emergencia de Muy Húmedo (Clima de Selva) en la zona. La humedad es extremadamente alta. Tome las precauciones necesarias.',
            'Baja Presión': 'Se ha detectado una emergencia de Condiciones de Baja Presión (Posible Lluvia) en la zona. Hay probabilidad de precipitaciones. Tome las precauciones necesarias.',
            'Alta Presión': 'Se ha detectado una emergencia de Condiciones de Alta Presión (Cielo Despejado) en la zona. Las condiciones son estables. Tome las precauciones necesarias.',
            'Extremadamente Caliente': 'Se ha detectado una emergencia de Extremadamente Caliente en la zona. Las temperaturas son peligrosamente altas. Tome las precauciones necesarias.',
        };

        // Alert selection
        document.querySelectorAll('.alert-option').forEach(option => {
            option.addEventListener('click', () => {
                // Remove previous selection
                document.querySelectorAll('.alert-option').forEach(opt => opt.classList.remove('selected'));
                
                // Add selection to clicked option
                option.classList.add('selected');
                selectedAlertType = option.dataset.value;
                
                // Update status message
                const statusMessage = document.getElementById('status-message');
                if (selectedAlertType) {
                    statusMessage.textContent = `Alerta seleccionada: ${selectedAlertType}`;
                } else {
                    statusMessage.textContent = 'Selecciona un tipo de alerta y presiona "Crear Alerta"';
                }
            });
        });

        // Create alert button
        document.getElementById('create-alert-btn').addEventListener('click', () => {
            if (!selectedAlertType) {
                showMessage('Por favor, selecciona un tipo de alerta primero.', 'error');
                return;
            }

            const description = alertDescriptions[selectedAlertType];
            const newAlert = {
                id: Date.now(),
                title: selectedAlertType,
                description: description,
                timestamp: new Date().toLocaleTimeString()
            };

            alerts.push(newAlert);
            updateAlertsDisplay();
            
            // Show success message
            showMessage('¡Alerta creada exitosamente!', 'success');
            
            // Reset selection
            document.querySelectorAll('.alert-option').forEach(opt => opt.classList.remove('selected'));
            selectedAlertType = '';
            document.getElementById('status-message').textContent = 'Selecciona un tipo de alerta y presiona "Crear Alerta"';
        });

        function updateAlertsDisplay() {
            const container = document.getElementById('alerts-container');
            const noAlerts = document.getElementById('no-alerts');
            
            if (alerts.length === 0) {
                noAlerts.style.display = 'block';
                return;
            }
            
            noAlerts.style.display = 'none';
            
            container.innerHTML = alerts.map(alert => `
                <div class="alert-card">
                    <div class="alert-title">Alerta: ${alert.title}</div>
                    <div class="alert-description">${alert.description}</div>
                    <div class="alert-time">Hora: ${alert.timestamp}</div>
                    <button class="resolve-button" onclick="removeAlert(${alert.id})">
                        Resolver
                    </button>
                    <div style="clear: both;"></div>
                </div>
            `).join('');
        }

        function removeAlert(id) {
            alerts = alerts.filter(alert => alert.id !== id);
            updateAlertsDisplay();
        }

        function showMessage(message, type) {
            const existingMessage = document.querySelector('.success-message');
            if (existingMessage) {
                existingMessage.remove();
            }
            
            const messageDiv = document.createElement('div');
            messageDiv.className = 'success-message';
            messageDiv.textContent = message;
            
            const alertSection = document.querySelector('.alert-section');
            alertSection.appendChild(messageDiv);
            
            setTimeout(() => {
                messageDiv.remove();
            }, 3000);
        }

        // Initialize
        updateAlertsDisplay();
        
        // Prevent zoom on double tap
        let lastTouchEnd = 0;
        document.addEventListener('touchend', function (event) {
            const now = (new Date()).getTime();
            if (now - lastTouchEnd <= 300) {
                event.preventDefault();
            }
            lastTouchEnd = now;
        }, false);
    </script>
</body>
</html>
